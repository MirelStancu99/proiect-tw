{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mirel\\\\Desktop\\\\Technologii-Web-Acordare_Feedback_Continuu_Cursuri-main\\\\client\\\\src\\\\pages\\\\ProfessorPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport Activity from '../components/Activity';\nimport { toast } from 'react-toastify';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProfessorPage() {\n  _s();\n\n  const [createActivity, setCreateActivity] = useState(false);\n  const [createdActivity, setCreatedActivity] = useState(false);\n  const [showHome, setShowHome] = useState(false);\n  const [showFeedback, setShowFeedback] = useState(false);\n  const [professor, setProfessor] = useState();\n  const [activities, setActivities] = useState([]);\n  const [feedbacks, setFeedbacks] = useState([]);\n  const [arrayTypes, setArrayTypes] = useState([]);\n  const cod = useRef();\n  const codPtFeedback = useRef();\n  const descriere = useRef();\n  const date = useRef();\n  const current = new Date();\n  const currentDate = `${current.getDate()}:${current.getMonth() + 1}:${current.getFullYear()}`;\n\n  const getBackendData = () => {\n    fetch('http://localhost:3001/logged', {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      setProfessor(data.dataValues);\n    });\n  };\n\n  const getAllExistentActivities = prof => {\n    let introdusa = moment(date.current.value, moment.ISO_8601, true);\n    let curenta = moment(currentDate, \"DD:M:YYYY HH:mm:ss\", true);\n    let dif = introdusa - curenta;\n\n    if (dif < 0) {\n      toast.error(\"Data nu poate fi in trecut!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    }\n\n    if (!cod.current.value || !descriere.current.value || !date.current.value) {\n      toast.error(\"Completati campurile!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    } else if (date.current.value < currentDate) {\n      toast.error(\"Data invalida!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    }\n\n    fetch(`http://localhost:3001/activities`, {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n\n      for (let a of data) {\n        if (a.code == cod.current.value) {\n          toast.error(\"Exista activitate cu acest cod!\", {\n            position: \"top-right\",\n            autoClose: 2000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n          });\n          return;\n        }\n      }\n\n      console.log('ok');\n      makeRequest(prof);\n    }).catch(e => {\n      makeRequest(prof);\n    });\n  };\n\n  const makeRequest = prof => {\n    fetch(`http://localhost:3001/activities/${prof.id}`, {\n      method: 'POST',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        date: date.current.value,\n        description: descriere.current.value,\n        code: cod.current.value\n      })\n    }).then(res => {\n      if (res.status == 400) {\n        toast.error(\"Nu s-a creat activitatea!\", {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n        return;\n      }\n\n      getAllActivities(professor);\n      toast.success(\"S-a creat activitatea!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      showActivity();\n    }).catch(e => toast.error(\"Nu s-a creat activitatea!\", {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    }));\n  };\n\n  const getAllActivities = prof => {\n    fetch(`http://localhost:3001/activities/users/${prof.id}`, {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      setActivities(data);\n      console.log(data[0]);\n    }).catch(e => toast.error(\"Nu s-au putut prelua activitatile!\", {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    }));\n  };\n\n  const getFeedbackOfActivity = activity => {\n    let id;\n\n    if (!activity) {\n      activities.map(a => {\n        console.log(codPtFeedback.current.value);\n\n        if (a.code == codPtFeedback.current.value) {\n          id = a.id;\n        }\n      });\n    } else id = activity.id;\n\n    console.log(id);\n    fetch(`http://localhost:3001/feedbacks/activity/${id}`, {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      setFeedbacks(data);\n      let e = 0,\n          g = 0,\n          a = 0,\n          p = 0;\n\n      for (let f of data) {\n        if (f.type == 'EXCELENT') {\n          e++;\n        } else if (f.type == 'GOOD') {\n          g++;\n        } else if (f.type == 'AVERAGE') {\n          a++;\n        } else if (f.type == 'POOR') {\n          p++;\n        }\n      }\n\n      let array = [e, g, a, p];\n      setArrayTypes(array);\n    }).catch(() => {\n      let array = [0, 0, 0, 0];\n      setArrayTypes(array);\n      toast.warn(\"Nu sunt feedback-uri!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    });\n  };\n\n  useEffect(getBackendData, []);\n\n  function showForm() {\n    setCreatedActivity(false);\n    setCreateActivity(true);\n    setShowHome(false);\n    setShowFeedback(false);\n  }\n\n  function showActivity() {\n    setCreatedActivity(true);\n    setCreateActivity(false);\n    setShowFeedback(false);\n    setShowHome(false);\n  }\n\n  function showFeedbackPage() {\n    setCreatedActivity(false);\n    setCreateActivity(false);\n    setShowHome(false);\n    setShowFeedback(true);\n  }\n\n  const showAddActivityPage = /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Creare activitate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 33\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"cod\",\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Cod Activitate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 28\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 57\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"descriere\",\n      placeholder: \"Introduceti cod\",\n      ref: cod,\n      name: \"cod\",\n      id: \"cod\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 108\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"descriere\",\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Descriere Activitate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 34\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 69\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"descriere\",\n      placeholder: \"Introduceti descriere\",\n      ref: descriere,\n      name: \"descriere\",\n      id: \"descriere\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 132\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"date\",\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Data activitate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 59\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"datetime-local\",\n      placeholder: \"Data activitate\",\n      ref: date,\n      name: \"data\",\n      id: \"data\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 116\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"custombtn\",\n      onClick: () => {\n        getAllExistentActivities(professor);\n      },\n      children: \"Creare activitate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 34\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n\n  const profPage = /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Buna ziua, \", professor && professor.firstName + ' ' + professor.lastName, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Doriti s\\u0103 crea\\u021Bi o activitate noua?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"custombtn\",\n      onClick: showForm,\n      children: \"Creare activitate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Doriti vede\\u021Bi activit\\u0103\\u021Bile dvs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        getAllActivities(professor);\n        showActivity();\n      },\n      className: \"custombtn\",\n      children: \"Vizualizare activit\\u0103\\u021Bi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Doriti s\\u0103 revede\\u021Bi feedback-ul unei activit\\u0103\\u021Bi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => {\n        getAllActivities(professor);\n        showFeedbackPage();\n      },\n      className: \"custombtn\",\n      children: \"Vizualizare feedback\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n\n  const addedActivity = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-content\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"professors-display row col-xs-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Activitatile create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"professor-list row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"professor-cards row\",\n          children: [activities.map((activity, i) => /*#__PURE__*/_jsxDEV(Activity, {\n            activity: activity\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            width: \"100%\",\n            onClick: showForm,\n            className: \"circleplus\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"123\",\n              height: \"122\",\n              viewBox: \"0 0 63 122\",\n              fill: \"none\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: [/*#__PURE__*/_jsxDEV(\"ellipse\", {\n                cx: \"31.5\",\n                cy: \"31\",\n                rx: \"31.5\",\n                ry: \"31\",\n                fill: \"white\",\n                children: \"  \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                id: \"totranslate\",\n                d: \"M20.6875 12.5312H31.9688V20.6875H20.6875V33.4375H12.0938V20.6875H0.78125V12.5312H12.0938V0.3125H20.6875V12.5312Z\",\n                fill: \"black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this);\n\n  const feedBackPage = /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Vizualizare feedback\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      id: \"label\",\n      htmlFor: \"idactivitate\",\n      children: \"COD Activitate:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 71\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      ref: codPtFeedback,\n      placeholder: \"cod\",\n      id: \"idactivitate\",\n      name: \"idactivitate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 110\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"custombtn\",\n      onClick: () => getFeedbackOfActivity(null),\n      children: \"Afisare\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Istoric de feedback\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      class: \"tablefeedback\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\uD83D\\uDC93\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\uD83D\\uDE00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\uD83D\\uDE41\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\uD83D\\uDE23\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: feedbacks.map((feedback, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [new Date(feedback.date).getHours(), \":\", new Date(feedback.date).getMinutes(), \":\", new Date(feedback.date).getSeconds()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: feedback.type == 'EXCELENT' ? 'x' : '0'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: feedback.type == 'GOOD' ? 'x' : '0'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: feedback.type == 'AVERAGE' ? 'x' : '0'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: feedback.type == 'POOR' ? 'x' : '0'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: arrayTypes[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: arrayTypes[1]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: arrayTypes[2]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: arrayTypes[3]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"1\",\n    children: createActivity ? showAddActivityPage : showHome ? profPage : showFeedback ? feedBackPage : createdActivity ? addedActivity : profPage\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfessorPage, \"XPqQnDTS8xc4oOnhZnWm5sAl+x4=\");\n\n_c = ProfessorPage;\nexport default ProfessorPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfessorPage\");","map":{"version":3,"sources":["C:/Users/Mirel/Desktop/Technologii-Web-Acordare_Feedback_Continuu_Cursuri-main/client/src/pages/ProfessorPage.js"],"names":["useState","useEffect","useRef","Activity","toast","moment","ProfessorPage","createActivity","setCreateActivity","createdActivity","setCreatedActivity","showHome","setShowHome","showFeedback","setShowFeedback","professor","setProfessor","activities","setActivities","feedbacks","setFeedbacks","arrayTypes","setArrayTypes","cod","codPtFeedback","descriere","date","current","Date","currentDate","getDate","getMonth","getFullYear","getBackendData","fetch","method","headers","Authorization","localStorage","getItem","then","res","json","data","dataValues","getAllExistentActivities","prof","introdusa","value","ISO_8601","curenta","dif","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","console","log","a","code","makeRequest","catch","e","id","body","JSON","stringify","description","status","getAllActivities","success","showActivity","getFeedbackOfActivity","activity","map","g","p","f","type","array","warn","showForm","showFeedbackPage","showAddActivityPage","profPage","firstName","lastName","addedActivity","i","feedBackPage","feedback","getHours","getMinutes","getSeconds"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport Activity from '../components/Activity';\nimport { toast } from 'react-toastify';\nimport moment from 'moment';\n\nfunction ProfessorPage() {\n  const [createActivity, setCreateActivity] = useState(false);\n  const [createdActivity, setCreatedActivity] = useState(false);\n  const [showHome, setShowHome] = useState(false);\n  const [showFeedback, setShowFeedback] = useState(false);\n  const [professor, setProfessor] = useState();\n  const [activities, setActivities] = useState([]);\n  const [feedbacks, setFeedbacks] = useState([]);\n  const [arrayTypes, setArrayTypes] = useState([]);\n  const cod = useRef();\n  const codPtFeedback = useRef();\n  const descriere = useRef();\n  const date = useRef();\n  const current = new Date();\n  const currentDate = `${current.getDate()}:${current.getMonth() + 1}:${current.getFullYear()}`;\n\n  const getBackendData = () => {\n    fetch('http://localhost:3001/logged', {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setProfessor(data.dataValues)\n      });\n  };\n  const getAllExistentActivities = (prof) => {\n    let introdusa = moment(date.current.value, moment.ISO_8601, true);\n    let curenta = moment(currentDate, \"DD:M:YYYY HH:mm:ss\", true);\n    let dif = introdusa - curenta;\n    if (dif < 0) {\n      toast.error(\"Data nu poate fi in trecut!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    }\n    if (!cod.current.value || !descriere.current.value || !date.current.value) {\n      toast.error(\"Completati campurile!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    } else if (date.current.value < currentDate) {\n      toast.error(\"Data invalida!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    }\n    fetch(`http://localhost:3001/activities`, {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n    }).then((res) => res.json())\n      .then((data) => {\n        console.log(data)\n        for (let a of data) {\n          if (a.code == cod.current.value) {\n            toast.error(\"Exista activitate cu acest cod!\", {\n              position: \"top-right\",\n              autoClose: 2000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            })\n            return;\n          }\n        }\n        console.log('ok')\n        makeRequest(prof)\n      })\n      .catch((e) => { \n        makeRequest(prof) });\n  };\n  const makeRequest = (prof) => {\n    fetch(`http://localhost:3001/activities/${prof.id}`, {\n      method: 'POST',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        date: date.current.value,\n        description: descriere.current.value,\n        code: cod.current.value,\n      }),\n    }).then((res) => {\n      if (res.status == 400) {\n        toast.error(\"Nu s-a creat activitatea!\", {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        }); return;\n      } getAllActivities(professor);\n      toast.success(\"S-a creat activitatea!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      })\n      showActivity();\n    })\n      .catch((e) => toast.error(\"Nu s-a creat activitatea!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      }));\n  };\n  const getAllActivities = (prof) => {\n    fetch(`http://localhost:3001/activities/users/${prof.id}`, {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n    }).then((res) => res.json())\n      .then((data) => {\n        setActivities(data)\n        console.log(data[0])\n      }).catch((e) => toast.error(\"Nu s-au putut prelua activitatile!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      }));\n  };\n\n  const getFeedbackOfActivity = (activity) => {\n    let id;\n    if (!activity) {\n      activities.map(a => {\n        console.log(codPtFeedback.current.value)\n        if (a.code == codPtFeedback.current.value) {\n          id = a.id;\n        }\n      })\n    } else id = activity.id;\n    console.log(id)\n    fetch(`http://localhost:3001/feedbacks/activity/${id}`, {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n    }).then((res) => res.json())\n      .then((data) => {\n        setFeedbacks(data)\n        let e = 0, g = 0, a = 0, p = 0;\n        for (let f of data) {\n          if (f.type == 'EXCELENT') {\n            e++;\n          } else if (f.type == 'GOOD') {\n            g++;\n          } else if (f.type == 'AVERAGE') {\n            a++;\n          } else if (f.type == 'POOR') {\n            p++\n          }\n        }\n        let array = [e, g, a, p];\n        setArrayTypes(array);\n      }).catch(() => {\n        let array = [0, 0, 0, 0];\n        setArrayTypes(array); toast.warn(\"Nu sunt feedback-uri!\", {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        })\n      });\n  };\n\n  useEffect(getBackendData, []);\n\n\n  function showForm() {\n    setCreatedActivity(false)\n    setCreateActivity(true)\n    setShowHome(false)\n    setShowFeedback(false)\n  }\n  function showActivity() {\n    setCreatedActivity(true)\n    setCreateActivity(false)\n    setShowFeedback(false)\n    setShowHome(false)\n  }\n  function showFeedbackPage() {\n    setCreatedActivity(false)\n    setCreateActivity(false)\n    setShowHome(false)\n    setShowFeedback(true)\n  }\n\n  const showAddActivityPage = (\n    <div id=\"container\">\n      <h1>Creare activitate</h1><br />\n      <label htmlFor=\"cod\"><b>Cod Activitate</b></label><br />\n      <input type=\"descriere\" placeholder=\"Introduceti cod\" ref={cod} name=\"cod\" id=\"cod\" required></input><br />\n\n      <label htmlFor=\"descriere\"><b>Descriere Activitate</b></label><br />\n      <input type=\"descriere\" placeholder=\"Introduceti descriere\" ref={descriere} name=\"descriere\" id=\"descriere\" required></input><br />\n\n      <label htmlFor=\"date\"><b>Data activitate</b></label><br />\n      <input type=\"datetime-local\" placeholder=\"Data activitate\" ref={date} name=\"data\" id=\"data\" required></input><br />\n\n      <button type=\"submit\" className=\"custombtn\" onClick={() => {\n        getAllExistentActivities(professor)\n      }}\n      >Creare activitate</button><br />\n    </div>\n  )\n  const profPage = (\n    <div id=\"container\">\n      <h1>Buna ziua, {professor && professor.firstName + ' ' + professor.lastName}!</h1>\n      <br />\n      <br />\n      <h3>Doriti să creați o activitate noua?</h3>\n      <button type=\"button\" className=\"custombtn\" onClick={showForm} >Creare activitate</button>\n      <h3>Doriti vedeți activitățile dvs</h3>\n      <button type=\"button\" onClick={() => {\n        getAllActivities(professor);\n        showActivity();\n      }} className=\"custombtn\">Vizualizare activități</button>\n      <h3>Doriti să revedeți feedback-ul unei activități</h3>\n      <button type=\"button\" onClick={() => {\n        getAllActivities(professor);\n        showFeedbackPage();\n      }} className=\"custombtn\">Vizualizare feedback</button>\n    </div>)\n\n\n  const addedActivity = (\n    <div className=\"page-content\">\n      <div className=\"professors-display row col-xs-12\">\n        <div className=\"title\">\n          <h1>Activitatile create</h1></div>\n        <div className=\"professor-list row\">\n          <div className=\"professor-cards row\" >\n            {activities.map((activity, i) => (\n              <Activity key={i}\n                activity={activity}\n              />\n            ))}\n            <div width='100%' onClick={showForm} className='circleplus'>\n              <svg width=\"123\" height=\"122\" viewBox=\"0 0 63 122\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <ellipse cx=\"31.5\" cy=\"31\" rx=\"31.5\" ry=\"31\" fill=\"white\">  </ellipse>\n                <path id='totranslate' d=\"M20.6875 12.5312H31.9688V20.6875H20.6875V33.4375H12.0938V20.6875H0.78125V12.5312H12.0938V0.3125H20.6875V12.5312Z\" fill=\"black\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n  const feedBackPage = (\n    <div id=\"container\">\n      <h1>Vizualizare feedback</h1>\n      <hr />\n      <br />\n      <label id=\"label\" htmlFor=\"idactivitate\">COD Activitate:</label><br />\n      <input type=\"text\" ref={codPtFeedback} placeholder='cod' id=\"idactivitate\" name=\"idactivitate\"></input><br />\n      <button type=\"button\" className=\"custombtn\" onClick={() => getFeedbackOfActivity(null)} >Afisare</button>\n      <br /><br />\n      <h1>Istoric de feedback</h1>\n      <table class='tablefeedback'>\n        <thead>\n          <tr>\n            <th>Data</th>\n            <th>💓</th>\n            <th>😀</th>\n            <th>🙁</th>\n            <th>😣</th>\n          </tr>\n        </thead>\n        <tbody>\n          {feedbacks.map((feedback, i) => (\n            <tr>\n              <td>{new Date(feedback.date).getHours()}:{new Date(feedback.date).getMinutes()}:{new Date(feedback.date).getSeconds()}</td>\n              <td>{feedback.type == 'EXCELENT' ? 'x' : '0'}</td>\n              <td>{feedback.type == 'GOOD' ? 'x' : '0'}</td>\n              <td>{feedback.type == 'AVERAGE' ? 'x' : '0'}</td>\n              <td>{feedback.type == 'POOR' ? 'x' : '0'}</td>\n            </tr>\n          ))}\n        </tbody>\n        <tfoot>\n          <tr>\n            <td>Total</td>\n            <td >{arrayTypes[0]}</td>\n            <td>{arrayTypes[1]}</td>\n            <td>{arrayTypes[2]}</td>\n            <td>{arrayTypes[3]}</td>\n          </tr>\n        </tfoot>\n\n      </table>\n    </div>\n  );\n\n  return (\n    <div id='1' >\n      {createActivity ? showAddActivityPage :\n        showHome ? profPage :\n          showFeedback ? feedBackPage :\n            createdActivity ? addedActivity : profPage\n      }\n    </div>\n  )\n}\n\nexport default ProfessorPage;\n"]},"metadata":{},"sourceType":"module"}