{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mirel\\\\Desktop\\\\Technologii-Web-Acordare_Feedback_Continuu_Cursuri-main\\\\client\\\\src\\\\pages\\\\StudentPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport Feedback from '../components/Feedback';\nimport { toast } from 'react-toastify';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction StudentPage() {\n  _s();\n\n  const [createFeedback, setCreateFeedback] = useState(false);\n  const [createdFeedback, setCreatedFeedback] = useState(false);\n  const [feedbacks, setFeedbacks] = useState([]);\n  const [activity, setActivity] = useState();\n  const [showHome, setShowHome] = useState(false);\n  const [student, setStudent] = useState();\n  const cod = useRef();\n  const descriere = useRef();\n  const tip = useRef();\n  const current = new Date();\n  const date = `${current.getDate()}:${current.getMonth() + 1}:${current.getFullYear()} ${current.getHours()}:${current.getMinutes()}:${current.getSeconds()}`;\n\n  const getActivities = student => {\n    fetch(`http://localhost:3001/activities`, {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      let activity2 = null;\n      data.map(a => {\n        if (a.code == cod.current.value) {\n          setActivity(a);\n          activity2 = a;\n          let introdusa = moment(activity2.date, moment.ISO_8601, true);\n          let curenta = moment(date, \"DD:M:YYYY HH:mm:ss\", true);\n          let dif = introdusa - curenta;\n          console.log(`data activitatii ${activity2.date}, curenta ${date} si dif ${dif}`);\n          console.log(`data activitatii ${introdusa}, curenta ${curenta} si dif ${dif}`);\n\n          if (dif < -432000000) {\n            toast.error(\"Activitate s-a terminat!\", {\n              position: \"top-right\",\n              autoClose: 2000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined\n            });\n            console.log('a trecut');\n            setActivity(null);\n            return;\n          } else if (dif > 432000000) {\n            console.log('n-a inceput');\n            toast.error(\"Activitate nu a inceput!\", {\n              position: \"top-right\",\n              autoClose: 2000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined\n            });\n            setActivity(null);\n            return;\n          }\n\n          console.log('ok');\n          /**data activitatii 2022-01-18T12:41:00.000Z, curenta 18:1:2022 15:29:28 si dif NaN */\n\n          fetch(`http://localhost:3001/users/${student.id}/activities/${activity2.id}/enroll`, {\n            method: 'POST',\n            headers: {\n              Authorization: localStorage.getItem('token'),\n              'Content-Type': 'application/json'\n            }\n          }).then(() => toast.success('Inrolare cu succes!', {\n            position: \"top-right\",\n            autoClose: 1500,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n          }));\n        }\n      });\n      if (activity2 == null) toast.error(\"Activitate inexistenta!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    }).catch(e => toast.error(\"Date incorecte\", {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    }));\n    ;\n  };\n\n  const getBackendData = () => {\n    fetch('http://localhost:3001/logged', {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      setStudent(data.dataValues);\n      console.log(data.dataValues);\n    }).catch(e => toast.error(\"Date incorecte\", {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    }));\n    ;\n  };\n\n  const addedFeedback = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-content\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"professors-display row col-xs-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Feedbackul a fost transmis!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"professor-list row\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: 'https://media.istockphoto.com/photos/gray-abstract-minimal-motion-backgrounds-loopable-elements-4k-picture-id1174989482?b=1&k=20&m=1174989482&s=170667a&w=0&h=ld7ukW9KTzUlJLc6c37C2xs5ESYP2wLyjxsEVCumn2s=',\n          className: \"prof-background\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"professor-cards row\",\n          children: [feedbacks.map((feedback, i) => /*#__PURE__*/_jsxDEV(Feedback, {\n            feedback: feedback,\n            i: i + 1\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            width: \"100%\",\n            onClick: showForm,\n            className: \"circleplus\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"123\",\n              height: \"122\",\n              viewBox: \"0 0 63 122\",\n              fill: \"none\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: [/*#__PURE__*/_jsxDEV(\"ellipse\", {\n                cx: \"31.5\",\n                cy: \"31\",\n                rx: \"31.5\",\n                ry: \"31\",\n                fill: \"white\",\n                children: \"  \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                id: \"totranslate\",\n                d: \"M20.6875 12.5312H31.9688V20.6875H20.6875V33.4375H12.0938V20.6875H0.78125V12.5312H12.0938V0.3125H20.6875V12.5312Z\",\n                fill: \"black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n\n  const postFeedback = (stud, activity) => {\n    if (activity == null) {\n      toast.error(\"Introdu activitate valida!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    }\n\n    console.log(date);\n\n    if (!date || !tip.current.value || !descriere.current.value || !cod.current.value) {\n      toast.error('Completeaza datele!', {\n        position: \"top-right\",\n        autoClose: 1500,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    }\n\n    fetch(`http://localhost:3001/feedbacks/users/${stud.id}/activities/${activity.id}`, {\n      method: 'POST',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        date: new Date(current.getFullYear(), current.getMonth(), current.getDate(), current.getHours(), current.getMinutes(), current.getSeconds()),\n        description: descriere.current.value,\n        type: tip.current.value\n      })\n    }).then(() => {\n      toast.success('Feedback transmis!', {\n        position: \"top-right\",\n        autoClose: 1500,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      fetch(`http://localhost:3001/feedbacks`, {\n        method: 'GET',\n        headers: {\n          Authorization: localStorage.getItem('token'),\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(data => {\n        setFeedbacks(data);\n        console.log(data);\n        showFeedback();\n      }).catch(e => toast.error(\"Date incorecte\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      }));\n    }).catch(e => toast.error(\"Introdu activitate valida!\", {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    }));\n  };\n\n  useEffect(() => {\n    getBackendData();\n  }, []);\n\n  function showFeedback() {\n    setCreatedFeedback(true);\n    setCreateFeedback(false);\n  }\n\n  function showForm() {\n    setCreatedFeedback(false);\n    setCreateFeedback(true);\n    setShowHome(false);\n  }\n\n  const showAddFeedback = /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Trimitere feedback\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"id\",\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"COD Activitate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 27\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      ref: cod,\n      placeholder: \"Introduceti codul\",\n      name: \"ID\",\n      id: \"ID\",\n      required: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 107\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      class: \"custombtn\",\n      onClick: () => {\n        getActivities(student);\n      },\n      children: \"Inrolare activitate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 39\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"descriere\",\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Descriere Feedback\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 34\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 68\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      ref: descriere,\n      placeholder: \"Introduceti o descriere\",\n      name: \"descriere\",\n      id: \"descriere\",\n      required: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 133\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"emoji\",\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Selecteaza tipul de emoji pe care dore\\u0219ti s\\u0103-l oferi activit\\u0103\\u021Bii!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 30\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), \"  \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 112\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      ref: tip,\n      name: \"wgtmsr\",\n      id: \"selectImoji\",\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"EXCELENT\",\n        children: \"Excelent \\uD83D\\uDC93\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"GOOD\",\n        children: \"Good \\uD83D\\uDE00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"AVERAGE\",\n        children: \"Average \\uD83D\\uDE41\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"POOR\",\n        children: \"Poor \\uD83D\\uDE23\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      class: \"custombtn\",\n      onClick: () => {\n        postFeedback(student, activity);\n      },\n      children: \"Trimitere feedback\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n\n  const studPage = /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Salut, bine ai revenit,  \", student && student.firstName + ' ' + student.lastName, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Dore\\u0219ti s\\u0103 te inrolezi intr-o activitate noua?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      class: \"custombtn\",\n      onClick: showForm,\n      children: \"Inrolare activitate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [createFeedback ? showAddFeedback : studPage, showHome ? studPage : 'nne', createdFeedback ? addedFeedback : 'none']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 5\n  }, this);\n}\n\n_s(StudentPage, \"A//fF0eGgCGZVmjdQWCNqw3GjGQ=\");\n\n_c = StudentPage;\nexport default StudentPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentPage\");","map":{"version":3,"sources":["C:/Users/Mirel/Desktop/Technologii-Web-Acordare_Feedback_Continuu_Cursuri-main/client/src/pages/StudentPage.js"],"names":["useState","useEffect","useRef","Feedback","toast","moment","StudentPage","createFeedback","setCreateFeedback","createdFeedback","setCreatedFeedback","feedbacks","setFeedbacks","activity","setActivity","showHome","setShowHome","student","setStudent","cod","descriere","tip","current","Date","date","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","getActivities","fetch","method","headers","Authorization","localStorage","getItem","then","res","json","data","activity2","map","a","code","value","introdusa","ISO_8601","curenta","dif","console","log","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","id","success","catch","e","getBackendData","dataValues","addedFeedback","feedback","i","showForm","postFeedback","stud","body","JSON","stringify","description","type","showFeedback","showAddFeedback","studPage","firstName","lastName"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport Feedback from '../components/Feedback';\nimport { toast } from 'react-toastify';\nimport moment from 'moment';\n\nfunction StudentPage() {\n  const [createFeedback, setCreateFeedback] = useState(false);\n  const [createdFeedback, setCreatedFeedback] = useState(false);\n  const [feedbacks, setFeedbacks] = useState([]);\n  const [activity, setActivity] = useState();\n  const [showHome, setShowHome] = useState(false);\n  const [student, setStudent] = useState();\n\n  const cod = useRef();\n  const descriere = useRef();\n  const tip = useRef();\n  const current = new Date();\n  const date = `${current.getDate()}:${current.getMonth() + 1}:${current.getFullYear()} ${current.getHours()}:${current.getMinutes()}:${current.getSeconds()}`;\n  const getActivities = (student) => {\n    fetch(`http://localhost:3001/activities`, {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        let activity2 = null;\n        data.map(a => {\n          if (a.code == cod.current.value) {\n            setActivity(a)\n            activity2 = a;\n            let introdusa = moment(activity2.date, moment.ISO_8601,true);\n            let curenta = moment(date, \"DD:M:YYYY HH:mm:ss\",true);\n            let dif = introdusa - curenta;\n           console.log(`data activitatii ${activity2.date}, curenta ${date} si dif ${dif}`)\n           console.log(`data activitatii ${introdusa}, curenta ${curenta} si dif ${dif}`)\n           if(dif<(-432000000)) {\n            toast.error(\"Activitate s-a terminat!\", {\n              position: \"top-right\",\n              autoClose: 2000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            })\n            console.log('a trecut')\n            setActivity(null)\n            return;\n           }\n           else if(dif>432000000) {\n            console.log('n-a inceput')\n            toast.error(\"Activitate nu a inceput!\", {\n              position: \"top-right\",\n              autoClose: 2000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            })\n            setActivity(null)\n            return;\n           }\n           console.log('ok')\n            /**data activitatii 2022-01-18T12:41:00.000Z, curenta 18:1:2022 15:29:28 si dif NaN */\n            fetch(`http://localhost:3001/users/${student.id}/activities/${activity2.id}/enroll`, {\n              method: 'POST',\n              headers: {\n                Authorization: localStorage.getItem('token'),\n                'Content-Type': 'application/json',\n              },\n            }).then(() => toast.success('Inrolare cu succes!', {\n              position: \"top-right\",\n              autoClose: 1500,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            }));\n          }\n        }); if (activity2 == null)\n          toast.error(\"Activitate inexistenta!\", {\n            position: \"top-right\",\n            autoClose: 2000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n          })\n      }).catch((e) => toast.error(\"Date incorecte\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      }));;\n  };\n  const getBackendData = () => {\n    fetch('http://localhost:3001/logged', {\n      method: 'GET',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setStudent(data.dataValues);\n        console.log(data.dataValues);\n      }).catch((e) => toast.error(\"Date incorecte\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      }));;\n  };\n\n  const addedFeedback = (\n    <div className=\"page-content\">\n      <div className=\"professors-display row col-xs-12\">\n        <div className=\"title\">\n          <h1>Feedbackul a fost transmis!</h1></div>\n        <div className=\"professor-list row\">\n          <img src={'https://media.istockphoto.com/photos/gray-abstract-minimal-motion-backgrounds-loopable-elements-4k-picture-id1174989482?b=1&k=20&m=1174989482&s=170667a&w=0&h=ld7ukW9KTzUlJLc6c37C2xs5ESYP2wLyjxsEVCumn2s='} className=\"prof-background\"></img>\n          <div className=\"professor-cards row\" >\n            {feedbacks.map((feedback, i) => (\n              <Feedback key={i}\n                feedback={feedback}\n                i={i + 1}\n              />\n            ))}\n            <div width='100%' onClick={showForm} className='circleplus'>\n              <svg width=\"123\" height=\"122\" viewBox=\"0 0 63 122\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <ellipse cx=\"31.5\" cy=\"31\" rx=\"31.5\" ry=\"31\" fill=\"white\">  </ellipse>\n                <path id='totranslate' d=\"M20.6875 12.5312H31.9688V20.6875H20.6875V33.4375H12.0938V20.6875H0.78125V12.5312H12.0938V0.3125H20.6875V12.5312Z\" fill=\"black\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n  const postFeedback = (stud, activity) => {\n    if (activity == null) {\n      toast.error(\"Introdu activitate valida!\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    }\n    console.log(date)\n    if (!date || !tip.current.value || !descriere.current.value || !cod.current.value) {\n      toast.error('Completeaza datele!', {\n        position: \"top-right\",\n        autoClose: 1500,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    }\n    fetch(`http://localhost:3001/feedbacks/users/${stud.id}/activities/${activity.id}`, {\n      method: 'POST',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        date: new Date(current.getFullYear(),current.getMonth(),current.getDate(),current.getHours(),current.getMinutes(),current.getSeconds())        ,\n        description: descriere.current.value,\n        type: tip.current.value,\n      }),\n    }).then(() => {\n      toast.success('Feedback transmis!', {\n        position: \"top-right\",\n        autoClose: 1500,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      fetch(`http://localhost:3001/feedbacks`, {\n        method: 'GET',\n        headers: {\n          Authorization: localStorage.getItem('token'),\n          'Content-Type': 'application/json',\n        },\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          setFeedbacks(data)\n          console.log(data)\n          showFeedback();\n        }).catch((e) => toast.error(\"Date incorecte\", {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        }));\n    }).catch((e) => toast.error(\"Introdu activitate valida!\", {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    }));\n  };\n\n  useEffect(() => {\n    getBackendData();\n  }, []);\n  function showFeedback() {\n    setCreatedFeedback(true)\n    setCreateFeedback(false)\n  }\n  function showForm() {\n    setCreatedFeedback(false)\n    setCreateFeedback(true)\n    setShowHome(false)\n  }\n\n  const showAddFeedback = (\n    <div id=\"container\">\n      <h1>Trimitere feedback</h1>\n      <br />\n      <label htmlFor=\"id\"><b>COD Activitate</b></label>\n      <br />\n      <input type=\"text\" ref={cod} placeholder=\"Introduceti codul\" name=\"ID\" id=\"ID\" required=\"\"></input> <br />\n      <button type=\"submit\" class=\"custombtn\" onClick={() => {\n        getActivities(student)\n      }}>Inrolare activitate</button> <br />\n      <label htmlFor=\"descriere\"><b>Descriere Feedback</b></label> <br />\n      <input type=\"text\" ref={descriere} placeholder=\"Introduceti o descriere\" name=\"descriere\" id=\"descriere\" required=\"\"></input> <br />\n      <label htmlFor=\"emoji\"><b>Selecteaza tipul de emoji pe care dorești să-l oferi activității!</b></label>  <br />\n      <select ref={tip} name=\"wgtmsr\" id=\"selectImoji\">\n        <option value=\"EXCELENT\">Excelent 💓</option>\n        <option value=\"GOOD\">Good 😀</option>\n        <option value=\"AVERAGE\">Average 🙁</option>\n        <option value=\"POOR\">Poor 😣</option>\n      </select> <br />\n      <button type=\"submit\" class=\"custombtn\" onClick={() => {\n        postFeedback(student, activity)\n      }}>Trimitere feedback</button>\n    </div>\n  );\n\n\n  const studPage = (\n    <div id=\"container\">\n      <h1>Salut, bine ai revenit,  {student && student.firstName + ' ' + student.lastName}!</h1>\n      <h3>Dorești să te inrolezi intr-o activitate noua?</h3>\n      <button type=\"button\" class=\"custombtn\" onClick={showForm}>Inrolare activitate</button>\n    </div>\n  );\n\n  return (\n    <div >\n      {createFeedback ? showAddFeedback : studPage}\n      {showHome ? studPage : 'nne'}\n      {createdFeedback ? addedFeedback : 'none'}\n    </div>\n  );\n}\n\nexport default StudentPage;\n"]},"metadata":{},"sourceType":"module"}